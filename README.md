# Anthemyr: A Superorganism MMO Simulator  
*A modern, science‑driven reimagining of SimAnt, built as a living, evolving ant superorganism in a shared world.*

---

## High‑level vision

**Anthemyr** is a systems‑first, science‑informed simulation game where you don’t just play as “an ant” or “a base”—you play as the *mind* of an ant colony.

The core fantasy:

- You are the **superorganism**—a distributed intelligence expressed through:
  - Genetics (long‑term tendencies and traits),
  - Pheromonal “policy” (short‑term doctrine and priorities),
  - Emergent behavior (local rules playing out at scale),
  - And occasional **direct control** of individual ants for high‑impact missions.

The game blends:

- **Colony sim / RTS** (macro policies, territory, resource management),
- **Bridge‑crew co‑op** (players take over subsystems like foraging, defense, architecture),
- **Optional FPS/third‑person “commando ant” mode** (high‑impact missions that perturb the system),
- **Evolutionary roguelike** (each generation’s choices and environment shape the next colony’s “DNA”),
- **MMO layer** (multiple colonies coexisting, competing, cooperating in a persistent world).

The goal is not just to make “SimAnt but prettier”—it’s to build a **deep, emergent, scientifically grounded ant‑colony MMO** where:

- Real ant biology and ecology drive the systems,
- Player choices shape the long‑term evolution of their lineage,
- And the colony feels like a living, learning entity over many generations.

---

## Core design pillars

### 1. Superorganism, not units

- The **colony is the character**.
- Individual ants are:
  - Numerous,
  - Short‑lived,
  - Locally rational but globally emergent.
- You influence the colony by:
  - Setting **policies** (pheromonal doctrines, thresholds, priorities),
  - Shaping **genetics** (trait biases across generations),
  - Occasionally **possessing** an ant to create strong, atypical signals.

### 2. Local rules, global consequences

- Ants follow **simple local rules**:
  - Follow pheromone gradients,
  - Respond to brood smell, food, threats,
  - Switch tasks based on internal thresholds and external stimuli.
- Player actions are **perturbations** to this system:
  - Adjusting global parameters is like **moving rocks in a stream**,
  - Direct control is like **throwing a boulder**—a strong, temporary disturbance that can permanently alter flow patterns.

### 3. Science‑informed, not science‑handcuffed

- We use **modern ant science** as a foundation:
  - Superorganism theory,
  - Response threshold models,
  - Multi‑pheromone communication,
  - Caste determination,
  - Microbiomes, mutualisms, parasitism, warfare.
- But we always ask:
  - *Does this make for meaningful, legible gameplay?*
- Where necessary, we **abstract and stylize** while preserving the spirit of the biology.

### 4. Bridge‑crew co‑op

- A single colony can be run by:
  - One player (solo),
  - Or multiple players in **advisor roles**.
- Each advisor controls a subsystem:
  - Foraging, defense, nest architecture, brood/genetics, etc.
- The queen/host sets **high‑level doctrine** and long‑term goals.
- This creates:
  - A “spaceship bridge” vibe,
  - But with ants and pheromones instead of consoles and lasers.

### 5. Evolution across generations

- Colonies are **not** one‑off runs.
- Each generation:
  - Experiences a unique environment,
  - Makes strategic choices,
  - Survives or fails in specific ways.
- During the **mating flight**:
  - You take direct control of a queen (and possibly males),
  - Survive a high‑stakes sequence,
  - Found the next colony.
- The next colony’s **genetic parameters** are derived from:
  - Previous performance,
  - Trait choices,
  - Mates’ profiles,
  - Environmental pressures.
- Over many generations, your lineage develops:
  - Distinct behavioral “cultures”,
  - Specializations (mutualism, warfare, parasitism, fortress‑building, nomadism, etc.).

### 6. MMO as shared ecology

- The world is **persistent** and **shared**:
  - Multiple colonies (players) coexist on the same map or shard.
- Interactions include:
  - Territorial competition,
  - Raids and warfare,
  - Mutualistic alliances,
  - Parasitic infiltration,
  - Shared threats (predators, humans, climate events).
- The MMO layer is **ecological**, not just chat and cosmetics.

---

## Gameplay overview

### Macro layer: Colony doctrine and policies

At the macro level, you:

- Define **doctrine**:
  - Aggression vs. caution,
  - Exploration vs. consolidation,
  - Mutualism vs. predation,
  - Sanitation vs. growth speed.
- Adjust **policy sliders** that influence:
  - Task allocation tendencies,
  - Pheromone sensitivity,
  - Risk tolerance,
  - Caste ratios (within biological constraints).
- Make **strategic decisions**:
  - Where to expand,
  - When to raid,
  - Which mutualisms to pursue (aphids, plants, fungus),
  - When to relocate or split the colony.

This is presented as:

- A **policy dashboard** (queen + advisors),
- With clear feedback:
  - Graphs of food intake, mortality, brood survival,
  - Maps of pheromone fields and territory,
  - Indicators of stress, disease, and threat levels.

### Meso layer: Advisor roles (bridge crew)

In co‑op, players can take on specialized roles:

- **Foraging Advisor**
  - Sets foraging zones and priorities,
  - Tunes exploration vs. exploitation,
  - Manages risk (distance, predator density).
- **Nest Architect**
  - Designs tunnel layouts and chamber types,
  - Manages waste disposal and sanitation,
  - Optimizes brood placement and environmental conditions.
- **Defense/War Advisor**
  - Defines patrol routes and alert levels,
  - Plans raids and ambushes,
  - Manages border policies and deterrence.
- **Brood/Genetics Advisor**
  - Influences caste ratios (within constraints),
  - Adjusts developmental conditions (nutrition, temperature),
  - Chooses long‑term trait emphases.

Each advisor:

- Doesn’t directly control ants,
- But **shapes the parameters** that many ants respond to,
- And sees specialized overlays and metrics relevant to their subsystem.

### Micro layer: Direct control / “Commando Ant” mode

At key moments, any player (or specific roles) can:

- **Possess an individual ant**:
  - Switch to a more direct control mode (top‑down, third‑person, or FPS).
  - Move through tunnels and terrain manually.
  - Interact with objects and entities in ways normal ants rarely do.

These missions might include:

- Sabotaging rival pheromone trails,
- Rescuing captured brood,
- Scouting human structures (kitchens, trash, sheds),
- Securing rare resources (sugar caches, safe nesting sites),
- Assassinating or harassing rival queens,
- Leading a vanguard raid.

Crucially:

- The possessed ant emits **strong, patterned pheromone signals**:
  - These signals are interpreted by the colony as high‑priority cues.
  - Other ants follow, reinforce, or react to them.
- When you exit direct control:
  - The pheromone traces remain,
  - The colony’s emergent behavior has been **permanently nudged**.

Direct control is:

- Optional most of the time,
- **Mandatory** during certain events (e.g., mating flight),
- Always tied back into the macro systems.

### Generational layer: Mating flight and evolution

At the end of a colony’s life cycle (or at key milestones):

- A **mating flight** occurs:
  - You control a queen (and possibly males) in a high‑stakes sequence:
    - Avoid predators (birds, spiders, humans),
    - Navigate wind and weather,
    - Choose where to land and found a new nest.
- The outcome determines:
  - Whether your lineage continues,
  - Where the next colony starts,
  - Which genetic traits are passed on.

The next colony’s **genetic profile** is computed from:

- Previous colony’s:
  - Survival duration,
  - Food efficiency,
  - War success/failure,
  - Disease history,
  - Mutualism success.
- Player’s doctrinal choices:
  - Aggression, exploration, sanitation, mutualism, etc.
- Mates’ traits (if modeled explicitly).

This profile sets:

- Default **response threshold distributions**,
- Baseline **pheromone sensitivities**,
- Innate tendencies toward:
  - Mutualism vs. predation,
  - Parasitism vs. cooperation,
  - Nomadic vs. fortress strategies.

Over many generations, players see:

- Distinct “cultures” of ants,
- Emergent specializations,
- A sense of **lineage identity** beyond a single run.

---

## Scientific inspirations and abstractions

We aim to incorporate, in stylized but meaningful ways:

### Superorganism and colony cognition

- Colony as the primary unit of selection.
- Distributed decision‑making:
  - Nest site selection via recruitment intensity,
  - Foraging patterns emerging from local reinforcement.

### Response threshold models

- Each ant has:
  - Internal thresholds for responding to stimuli (food, brood, alarm, waste).
- Task allocation emerges from:
  - Distribution of thresholds across the population,
  - Environmental conditions,
  - Pheromonal context.

In game terms:

- Traits and policies shift **threshold distributions**,
- Not explicit job assignments.

### Multi‑pheromone communication

We model multiple pheromone types, e.g.:

- **Trail pheromones** (food, exploration),
- **Alarm pheromones** (predators, threats),
- **Recruitment pheromones** (raids, nest moves),
- **Territory markers**,
- **Brood‑care markers**,
- **Death pheromones** (corpse management),
- **Royal/“policy” pheromones** (queen influence).

Each has:

- Its own diffusion rate,
- Evaporation rate,
- Behavioral effects.

### Caste determination and plasticity

Depending on species and design scope:

- Caste (worker, soldier, queen) can be influenced by:
  - Nutrition,
  - Temperature,
  - Hormonal exposure,
  - Queen pheromone suppression,
  - Colony stress.

We abstract this into:

- **Caste ratio controls** (within biologically plausible ranges),
- **Developmental condition sliders** (e.g., brood nutrition priority),
- **Trait trade‑offs** (more soldiers vs. fewer foragers, etc.).

### Microbiomes, disease, and sanitation

- Ants and nests host:
  - Protective bacteria,
  - Pathogens,
  - Fungi.
- Sanitation behavior (waste chambers, corpse removal) affects:
  - Disease risk,
  - Long‑term colony health.

We model:

- Disease risk as a function of:
  - Waste management,
  - Population density,
  - Environmental conditions (humidity, temperature),
  - Genetic traits (resistance).
- Sanitation policies as:
  - A tunable subsystem with clear trade‑offs.

### Interspecies interactions

Potential systems include:

- **Mutualism**:
  - Aphid herding (milk for sugar, defend from predators),
  - Plant defense (acacia‑like relationships),
  - Fungus farming (leafcutter‑style).
- **Parasitism**:
  - Infiltrating other colonies,
  - Brood theft,
  - Social parasites that exploit host colonies.
- **Predation and competition**:
  - Other ant species,
  - Spiders, beetles, birds, etc.

These become:

- Strategic choices:
  - Which mutualisms to pursue,
  - Whether to specialize in parasitism or defense,
  - How to respond to invasive species.

---

## Technical direction and architecture (initial)

This README is intended as a **design + technical prompt** for building the architecture.

### Phase 1: Simulation core (Python)

**Goal:** A headless, testable, high‑fidelity colony simulation.

- **Language:** Python
- **Core components:**
  - `World`:
    - 2D grid (later extendable to layered/tunnel representation),
    - Cells with soil type, moisture, temperature, food, pheromone levels.
  - `PheromoneField`:
    - Multiple layers (trail, alarm, territory, etc.),
    - Diffusion and evaporation per tick.
  - `Colony`:
    - Population of `Ant` agents,
    - Food stores, brood, queen state,
    - Trait/genetic profile,
    - Policy parameters.
  - `Ant`:
    - Position, age, role (task, not fixed caste),
    - Internal thresholds,
    - State (foraging, carrying food, fighting, tending brood, etc.).
  - `Environment`:
    - Weather, day/night cycle,
    - Predators, human events,
    - Resource regeneration.

- **Simulation loop:**
  1. Update environment.
  2. Update pheromone fields (diffuse, evaporate).
  3. Update ants (local decisions, movement, interactions).
  4. Resolve conflicts (combat, deaths, disease).
  5. Apply colony‑level effects (food consumption, brood development).

- **Design goals:**
  - Deterministic given a seed (for debugging and replay),
  - Configurable via JSON/YAML for traits and policies,
  - Instrumented with metrics for visualization and tuning.

### Phase 2: 2D visualization and control

**Goal:** A playable, inspectable prototype.

Options:

- **Python + Pygame**:
  - Fast to integrate with the sim core,
  - Good for early visualization and debugging.
- Or:
  - **Python backend + Godot/Unity frontend**:
    - Sim runs as a server,
    - Client connects and renders state.

Initial features:

- Top‑down map view:
  - Ants as dots,
  - Pheromone fields as heatmaps,
  - Food, nest, predators visible.
- UI panels:
  - Policy sliders,
  - Metrics (graphs, counters),
  - Colony status.

### Phase 3: Networking and MMO scaffolding

**Goal:** Multiple colonies in a shared world.

- **Authoritative server**:
  - Runs the simulation,
  - Maintains world state,
  - Handles multiple colonies (players).
- **Clients**:
  - Connect to server,
  - Subscribe to relevant region(s),
  - Send policy changes and direct‑control commands.

Key considerations:

- Tick rate vs. network bandwidth,
- Region‑of‑interest streaming,
- Persistence (saving world state),
- Sharding or instancing for scalability.

### Phase 4: Direct control / FPS module

**Goal:** High‑impact, optional micro‑control that feeds back into the sim.

- Likely implemented in:
  - **Godot** or **Unity** for 3D/first‑person/third‑person.
- Integration:
  - When a player “possesses” an ant:
    - The server marks that ant as player‑controlled,
    - The client switches to FPS/third‑person mode,
    - Player inputs drive that ant’s movement and actions,
    - Pheromone output is modified accordingly.
  - When control ends:
    - Ant returns to AI control,
    - Pheromone traces remain in the sim.

### Phase 5: Generational and evolutionary systems

**Goal:** Persistent lineages with evolving traits.

- Track per‑colony metrics:
  - Survival time,
  - Food efficiency,
  - War outcomes,
  - Disease history,
  - Mutualism success.
- At mating flight:
  - Compute new trait parameters,
  - Spawn next colony with those parameters,
  - Optionally visualize lineage tree and trait drift.

---

## Project structure (proposed)

A possible initial layout:

```text
anthemyr/
  README.md
  pyproject.toml / requirements.txt

  anthemyr/
    __init__.py

    # Core simulation
    world/
      __init__.py
      world.py          # World grid, environment
      cell.py           # Cell definition (soil, moisture, food, pheromones)
      environment.py    # Weather, events, predators

    colony/
      __init__.py
      colony.py         # Colony state, resources, queen, traits
      ant.py            # Ant agent logic
      traits.py         # Genetic traits and parameters
      policies.py       # Policy sliders and their effects
      evolution.py      # Generational logic, mating flight outcomes

    pheromones/
      __init__.py
      fields.py         # Multi-layer pheromone fields
      diffusion.py      # Diffusion/evaporation logic

    simulation/
      __init__.py
      engine.py         # Main simulation loop
      config.py         # Loadable configs for species, world, traits

    # Visualization (phase 2)
    ui/
      __init__.py
      pygame_client.py  # Early 2D visualization and controls

    # Networking (phase 3+)
    net/
      __init__.py
      server.py         # Authoritative simulation server
      protocol.py       # Message formats
      client_api.py     # Client-side API for external frontends

    # Tools and experiments
    experiments/
      notebooks/        # Jupyter notebooks for tuning and analysis
      prototypes/       # One-off prototypes for behaviors

  tests/
    test_world.py
    test_colony.py
    test_ant_behavior.py
    test_pheromones.py
    test_evolution.py
```

This is intentionally modular so that:

- The **simulation core** is engine‑agnostic,
- The **UI/clients** can be swapped or extended,
- The **networking layer** can evolve without rewriting the sim.

---

## Roadmap (high‑level)

1. **v0.1 — Core sim prototype**
   - World grid, basic environment.
   - Single colony, ants with simple foraging behavior.
   - Single pheromone type (trail) with diffusion/evaporation.
   - Basic policy sliders (foraging radius, exploration vs. exploitation).
   - Text/console or minimal 2D visualization.

2. **v0.2 — Multi‑pheromone + task allocation**
   - Multiple pheromone types (trail, alarm, territory).
   - Response threshold model for task switching.
   - Basic predators and threats.
   - Simple metrics dashboard.

3. **v0.3 — Nest architecture and sanitation**
   - Tunnels and chambers.
   - Waste management and disease risk.
   - Brood placement and development.

4. **v0.4 — Direct control (2D “possession”)**
   - Click‑to‑possess an ant in 2D view.
   - Stronger pheromone output from player‑controlled ants.
   - Observe colony response.

5. **v0.5 — Generational evolution**
   - Mating flight as an abstracted event.
   - Trait inheritance and drift.
   - Lineage tracking.

6. **v0.6+ — 3D/FPS module and networking**
   - Integrate with a 3D engine for FPS/third‑person missions.
   - Authoritative server with multiple colonies.
   - Co‑op advisor roles.
   - MMO‑style shared ecology.

---

## Intended use of this README

This README is meant to serve as:

- A **design spec** for the core concepts and systems,
- A **technical prompt** for code generation and architecture scaffolding,
- A **north star** for future decisions:
  - If a feature doesn’t reinforce the superorganism, emergent behavior, or evolutionary MMO fantasy, it’s probably out of scope.

When using this as a prompt in an IDE (e.g., with an AI assistant):

- Start by generating:
  - The **simulation core skeleton** (`world`, `colony`, `ant`, `pheromones`, `simulation.engine`),
  - Configuration structures for traits and policies,
  - A minimal tick loop with a simple CLI or 2D debug view.
- Then iterate:
  - Add behaviors,
  - Add metrics,
  - Add visualization,
  - Only then move toward networking and FPS.

---

If you want, the next step can be a **`traits.py` + `policies.py` design**: a concrete schema for what knobs exist, how they mathematically affect behavior, and how they evolve between generations.